<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <title>Atividade</title>
</head>

<body>

    <input type="text" id="cpf" name="cpf_do_cara">

    <button>Clique</button>

    <script>
        function CPF_fazer() {
            var input = document.querySelector("#cpf");
            var CPF_inicial = input.value;

            CPF = CPF_inicial.split("");
            CPF = CPF.filter((numeros) => Number || numeros == 0);

            if (CPF.length != 11 || CPF.length != CPF_inicial.length) {
                alert("O número digitado é inválido!");
            } else {
                var noveDigitosCPF = CPF.slice(0, 9);
                var digitoVerificador1;
                var digitoVerificador2;
                var somaDigitos = 0;

                for (i = 0; i < 9; i++) {
                    somaDigitos = somaDigitos + (noveDigitosCPF[i] * (10 - i));
                }

                if (somaDigitos % 11 >= 2) {
                    digitoVerificador1 = 11 - (somaDigitos % 11);
                } else {
                    digitoVerificador1 = 0;
                }

                somaDigitos = 0;

                for (i = 0; i < 9; i++) {
                    somaDigitos = somaDigitos + (noveDigitosCPF[i] * (11 - i));
                }

                somaDigitos = somaDigitos + digitoVerificador1 * 2;

                if (somaDigitos % 11 >= 2) {
                    digitoVerificador2 = 11 - (somaDigitos % 11);
                } else {
                    digitoVerificador2 = 0;
                }

                console.log(`Dígitos verificadores informados... ${CPF[9]} e ${CPF[10]} \n`)
                console.log(`Dígitos verificadores calculados... ${digitoVerificador1} e ${digitoVerificador2} \n`)
                if (digitoVerificador1 == CPF[9] && digitoVerificador2 == CPF[10]) {
                    console.log("CPF Válido!!!");
                } else {
                    console.log("CPF Inválido...");
                }
                console.log(" ");
            }
        }

        let botao = document.querySelector("button");
        botao.addEventListener("click", CPF_fazer)

    </script>
</body>

</html>